<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dashboard | DMS</title>
	<script src="https://unpkg.com/@tailwindcss/browser@4"></script>
	<link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
	<style>
		::-webkit-scrollbar {
			width: 8px;
		}
		::-webkit-scrollbar-track {
			background: #f1f1f1;
		}
		::-webkit-scrollbar-thumb {
			background: #888;
		}
		::-webkit-scrollbar-thumb:hover {
			background: #555;
		}
		input.gridjs-input{
			/* box-shadow: 0 0 0 1px #141414; */
		}
		input.gridjs-input:focus {
			border-color: #615FFF;
			box-shadow: 0 0 0 3px #615FFF80;
		}
		.gridjs-search-input{
			width: 100%;
		}
	</style>
</head>

<body>
	<section class="flex min-h-screen bg-indigo-50">
		{% include 'navbar.html' %}
		<div class="p-8 w-[calc(100vw-18rem)] ml-[18rem]">
			<div class="w-full flex items-center justify-between">
				<h1 class="text-3xl font-bold">Dashboard</h1>
				<div class="relative">
					<div id="notificationBtn"
						class="bg-white p-3 rounded-full shadow cursor-pointer flex items-center justify-center">
						<svg viewBox="0 0 24 24" fill="none" class="w-6 h-6 text-indigo-400">
							<path d="M6.502 6.975a5.525 5.525 0 0 1 10.995 0l.287 2.866c.018.175.026.262.037.348a8 8 0 0 0 1.19 3.325l.192.291.861 1.292c.787 1.18 1.18 1.769 1.008 2.244-.033.09-.078.175-.135.252-.3.407-1.009.407-2.426.407H5.489c-1.417 0-2.126 0-2.426-.407a1 1 0 0 1-.134-.252c-.173-.475.22-1.065 1.006-2.244l.862-1.292.192-.291a8 8 0 0 0 1.19-3.325c.01-.086.02-.173.037-.348l.286-2.866Z"
								fill="currentColor"></path>
							<path d="M10.068 20.63c.114.106.365.2.715.267.349.067.777.103 1.217.103.44 0 .868-.036 1.217-.103.35-.067.6-.161.715-.268"
								stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
						</svg>
					</div>
					<div id="notificationModal"
						class="w-full min-w-[450px] max-w-[450px] absolute top-14 right-0 scale-y-0 opacity-0 origin-top bg-white rounded-lg shadowCustom overflow-hidden transition-all duration-300">
						<div
							class="flex items-start gap-2 text-sm text-indigo-700 px-4 border-[#141414] last-of-type:border-none cursor-pointer hover:bg-indigo-50 transition-all duration-300 scale-100 py-2 border-b">
							<p>10 students registered</p>
						</div>
						<div
							class="flex items-start gap-2 text-sm text-indigo-700 px-4 border-[#141414] last-of-type:border-none cursor-pointer hover:bg-indigo-50 transition-all duration-300 scale-100 py-2 border-b">
							<p>10 students registered</p>
						</div>
					</div>
				</div>
			</div>
			<div class="my-5 flex flex-col gap-5 bg-white p-5 rounded-xl shadow-[3px_8px_20px_-10px_#00000015]">
				<div>
					<p class="text-3xl font-semibold">Daily Schedule</p>
				</div>
				<div class="flex flex-col gap-2 w-1/3">
					<label for="vehicle" class="block font-semibold">Select Vehicle</label>
					<select name="vehicle" id="vehicle" class="block w-full rounded-lg bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6" required>
						<option disabled selected>Select Vehicle</option>
						<option>Vehicle1</option>
						<option>Vehicle2</option>
						<option>Vehicle3</option>
						<option>Vehicle4</option>
						<option>Vehicle5</option>
					</select>
				</div>
				<div class="flex items-start justify-between gap-5">
					<div id="appointment-table-before-lunch" class="w-1/2"></div>
					<div id="appointment-table-after-lunch" class="w-1/2"></div>
				</div>
			</div>
			<div class="my-5 flex flex-col gap-5 bg-white p-5 rounded-xl shadow-[3px_8px_20px_-10px_#00000015]">
				<div>
					<p class="text-3xl font-semibold">Payment Remaining</p>
				</div>
				<div id="payment-status-table" class="w-full"></div>
			</div>
			<div class="my-5 flex flex-col gap-5 bg-white p-5 rounded-xl shadow-[3px_8px_20px_-10px_#00000015]">
				<div class="flex items-center justify-between">
					<p class="text-3xl font-semibold">Earnings</p>
					<div class="flex items-center gap-5">
						<div class="flex flex-col gap-2 w-full">
							<label for="dlIssueDate" class="block font-semibold">From Date</label>
							<input type="date" name="dlIssueDate" id="dlIssueDate" autocomplete="off" required class="block w-full rounded-lg bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
						</div>
						<div class="flex flex-col gap-2 w-full">
							<label for="dlIssueDate" class="block font-semibold">End Date</label>
							<input type="date" name="dlIssueDate" id="dlIssueDate" autocomplete="off" required class="block w-full rounded-lg bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
						</div>
					</div>
				</div>
				<div id="earnings-table" class="w-full"></div>
			</div>
			<!-- <div class="w-full grid grid-cols-1 lg:grid-cols-4 lg:grid-rows-3 gap-3 mt-10">
				<div
					class="bg-indigo-500 h-40 rounded-xl col-span-2 lg:col-span-1 flex flex-col items-center justify-center gap-3 shadow-[3px_8px_20px_-10px_#00000015]">
					<p class="text-white text-sm font-semibold">Sales: Aug 2027</p>
					<p class="text-white font-bold text-2xl">$5.73K</p>
					<p class="text-white text-xs ">Jul 2027: $10.35K</p>
				</div>
				<div
					class="bg-indigo-500 h-40 rounded-xl col-span-2 lg:col-span-1 flex flex-col items-center justify-center gap-3 shadow-[3px_8px_20px_-10px_#00000015]">
					<p class="text-white text-sm font-semibold">Average Order Value : Aug 2027</p>
					<p class="text-white font-bold text-2xl">$34</p>
					<p class="text-white text-xs ">Jul 2027: $0.23K</p>
				</div>
				<div
					class="bg-white h-full rounded-xl col-span-2 row-span-2 flex flex-col items-center justify-center gap-3 shadow-[3px_8px_20px_-10px_#00000015] p-3">
					<p class="text-indigo-500 text-sm font-semibold">Attendance</p>
					<canvas id="myChart"></canvas>
				</div>
				<div
					class="bg-white h-full rounded-xl col-span-2 row-span-2 shadow-[3px_8px_20px_-10px_#00000015] p-6">
					<div class="flex items-center justify-between">
						<p class="text-sm text-indigo-800 font-bold">Staging Orders</p>
					</div>
					<div class="grid grid-cols-3 gap-4 mt-8">
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">18</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">Payment</p>
						</div>
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">12</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">In work</p>
						</div>
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">32</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">Delivery</p>
						</div>
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">32</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">Delivered</p>
						</div>
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">4</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">Failed</p>
						</div>
						<div
							class="w-full h-28 bg-indigo-50 rounded-lg shadow-inner flex flex-col items-center justify-center">
							<p class="text-2xl text-indigo-900 font-bold">11</p>
							<p class="text-xs text-indigo-900 font-bold mt-3">Return</p>
						</div>
					</div>
				</div>
				<div
					class="bg-indigo-500 h-40 rounded-xl col-span-2 lg:col-span-1 flex flex-col items-center justify-center gap-3 shadow-[3px_8px_20px_-10px_#00000015]">
					<p class="text-white text-sm font-semibold">Total Profit: Aug 2027</p>
					<p class="text-white font-bold text-2xl">$1.2K</p>
					<p class="text-white text-xs ">Jul 2027: $0.8K</p>
				</div>
				<div
					class="bg-indigo-500 h-40 rounded-xl col-span-2 lg:col-span-1 flex flex-col items-center justify-center gap-3 shadow-[3px_8px_20px_-10px_#00000015]">
					<p class="text-white text-sm font-semibold">Cutomers: Aug 2027</p>
					<p class="text-white font-bold text-2xl">144</p>
					<p class="text-white text-xs ">Jul 2027: 121</p>
				</div>
			</div> -->
		</div>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
		<script>
			// const ctx = document.getElementById('myChart');

			// new Chart(ctx, {
			// 	type: 'bar',
			// 	data: {
			// 		labels: ["January", "February", "March", "April", "March", "May", "June"],
			// 		datasets: [
			// 			{
			// 				label: "Attandance",
			// 				data: [10, 20, 50, 30, 32, 20, 25],
			// 				backgroundColor: "#E0E7FF",
			// 				borderColor: "#615FFF",
			// 				borderWidth: 1,
			// 			},
			// 		],
			// 	},
			// 	options: {
			// 		scales: {
			// 			y: {
			// 				beginAtZero: true
			// 			}
			// 		}
			// 	}
			// });

			document.getElementById("notificationBtn").addEventListener("click", function () {
				console.log("clicked");
				document.getElementById("notificationModal").classList.toggle("scale-y-0")
				document.getElementById("notificationModal").classList.toggle("opacity-0")
				document.getElementById("notificationModal").classList.toggle("scale-y-100")
				document.getElementById("notificationModal").classList.toggle("opacity-100")
			})
			
			document.getElementById("notificationModal").addEventListener("mouseleave", function () {
				setTimeout(() => {
					document.getElementById("notificationModal").classList.toggle("scale-y-0")
					document.getElementById("notificationModal").classList.toggle("opacity-0")
					document.getElementById("notificationModal").classList.toggle("scale-y-100")
					document.getElementById("notificationModal").classList.toggle("opacity-100")
				}, 1000);
			})

			const appointmentGrid = new gridjs.Grid({
				search: false,
				// pagination: {
				// 	limit: 5,
				// 	summary: false
				// },
				sort: true,
				fixedHeader: true,
				columns: [
					"Name",
					"Slot"
				],
				// server: {
				// 	url: 'http://127.0.0.1:8000/getInstructorData/',
				// 	then: data => data.map(instructor => [instructor.name, instructor.phone])
				// },
				data:[ 
					["Shubham", "6:30 pm"],
					["Shubham", "6:30 pm"],
					["Shubham", "6:30 pm"],
					["Shubham", "6:30 pm"],
					["Shubham", "6:30 pm"],
				],
				className: {
					th: '!bg-black !text-white',
					sort: '!bg-black !text-white',
					search: '!float-right !w-[25%]',
				}
			})
			
			const paymentGrid = new gridjs.Grid({
				search: true,
				// pagination: {
				// 	limit: 5,
				// 	summary: false
				// },
				sort: true,
				fixedHeader: true,
				columns: [
					"Name",
					"Course",
					"Amount Paid",
					"Amount Remaining",
					"Total Amount",
					"Due Date",
				],
				// server: {
				// 	url: 'http://127.0.0.1:8000/getInstructorData/',
				// 	then: data => data.map(instructor => [instructor.name, instructor.phone])
				// },
				data:[ 
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
					["Shubham", "course1", "100", "0", "100", "14/02/2025"],
				],
				className: {
					th: '!bg-black !text-white',
					sort: '!bg-black !text-white',
					search: '!float-right !w-[25%]',
				}
			})

			const earningGrid = new gridjs.Grid({
				search: true,
				// pagination: {
				// 	limit: 5,
				// 	summary: false
				// },
				sort: true,
				fixedHeader: true,
				columns: [
					"Branch",
					"Branch Incharge",
					"Amount Received",
					"Amount Remaining",
					"Total Amount",
				],
				// server: {
				// 	url: 'http://127.0.0.1:8000/getInstructorData/',
				// 	then: data => data.map(instructor => [instructor.name, instructor.phone])
				// },
				data:[ 
					["jivraj", "shubham", "100", "0", "100"],
					["jivraj", "shubham", "100", "0", "100"],
					["jivraj", "shubham", "100", "0", "100"],
					["jivraj", "shubham", "100", "0", "100"],
					["jivraj", "shubham", "100", "0", "100"],
					["jivraj", "shubham", "100", "0", "100"],
				],
				className: {
					th: '!bg-black !text-white',
					sort: '!bg-black !text-white',
					search: '!float-right !w-[25%]',
				}
			})

			appointmentGrid.render(document.getElementById("appointment-table-before-lunch"))
			appointmentGrid.render(document.getElementById("appointment-table-after-lunch"))
			paymentGrid.render(document.getElementById("payment-status-table"))
			earningGrid.render(document.getElementById("earnings-table"))
		</script>
	</section>
</body>

</html>